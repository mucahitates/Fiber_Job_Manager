<Window x:Class="FiberJobManager.Desktop.Views.NewJobsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Yeni Projeler"
        Height="720"
        Width="1280"
        WindowStartupLocation="CenterScreen"
        Background="#F4F6F9">

    <Grid Margin="22">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <Grid Grid.Row="0" Margin="0 0 0 16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel>
                <TextBlock Text="Yeni Projeler"
                           FontSize="28"
                           FontWeight="SemiBold"
                           Foreground="#1F2937"/>
                <TextBlock Text="Size atanmış ve henüz işleme alınmamış projeler"
                           FontSize="13"
                           Foreground="#6B7280"
                           Margin="0 4 0 0"/>
            </StackPanel>
    
            <Border Grid.Column="1"
                    Margin="0 0 10 0 "
                    Background="White"
                    CornerRadius="12"
                    Padding="14"
                    BorderBrush="Black"
                    BorderThickness="1">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Toplam Yeni:"
                               FontSize="18"
                               FontWeight="Bold"
                               VerticalAlignment="Center"
                               Foreground="Black"/>
                    
                    <TextBlock x:Name="TxtTotalNew"
                               Text="20"
                               FontWeight="Bold"
                               FontSize="20"
                               VerticalAlignment="Center"
                               Foreground="#2563EB"
                               Margin="8 0 0 0"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- DATA GRID -->
        <Border Grid.Row="1"
                Background="White"
                CornerRadius="16"
                Padding="16"
                BorderBrush="#E5E7EB"
                BorderThickness="1">

            <DataGrid x:Name="NewJobsGrid"
                      CanUserAddRows="False"
                      CanUserDeleteRows="False"
                      CanUserResizeColumns="False"
                      CanUserReorderColumns="False"
                      CanUserResizeRows="False"
                      CanUserSortColumns="False"
                      AutoGenerateColumns="False"                     
                      IsReadOnly="False"
                      GridLinesVisibility="None"
                      RowHeight="44"
                      Background="White">

                <DataGrid.Columns>

                    <DataGridTextColumn Header="Proje Id" Binding="{Binding Id}" Width="80"/>
                    <DataGridTextColumn Header="Firma" Binding="{Binding Firma}" Width="200"/>
                    <DataGridTextColumn Header="Bölge(Montage Ort)" Binding="{Binding Bolge}" Width="140"/>
                    <DataGridTextColumn Header="HK" Binding="{Binding HK}" Width="100"/>
                    <DataGridTextColumn Header="SM" Binding="{Binding SM}" Width="100"/>
                    <DataGridTextColumn Header="NVT" Binding="{Binding HKNVT}" Width="120"/>
                    <DataGridTextColumn Header="İlk Ölçüm (Erstmessung)" Binding="{Binding Erstmessung}" Width="150"/>
                    
                    
                    <!-- SAHA DURUMU -->
                    <DataGridTemplateColumn Header="Proje Durumu" Width="180">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <ComboBox SelectedValue="{Binding FieldStatus, Mode=TwoWay}"
                                          SelectedValuePath="Tag"
                                          Height="30">
                                    <ComboBoxItem Content="İşlem yapılmadı" Tag="0"/>
                                    <ComboBoxItem Content="İşlem yapılamıyor" Tag="1"/>
                                    <ComboBoxItem Content="İşlem tamamlandı" Tag="2"/>
                                </ComboBox>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <!-- DETAY -->
                    <DataGridTemplateColumn Header="Detay" Width="80">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Content="📝"
                                        Width="40"
                                        Height="30"
                                        Cursor="Hand"
                                        Tag="{Binding}"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                </DataGrid.Columns>
            </DataGrid>

        </Border>
    </Grid>
</Window>
